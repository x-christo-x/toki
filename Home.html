<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard del Local</title>
  <link rel="stylesheet" href="css/style.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
<!-- 1. SIEMPRE firebase-app-compat primero -->
<script src="https://www.gstatic.com/firebasejs/10.4.0/firebase-app-compat.js"></script>
<!-- 2. Luego los módulos que quieras usar -->
<script src="https://www.gstatic.com/firebasejs/10.4.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.4.0/firebase-firestore-compat.js"></script>
<!-- 3. Tu JS que usa Firebase, SIEMPRE después de los anteriores -->
<script src="js/traerdatos.js"></script>
<script src="js/cerrarsesion.js" defer></script>

</head>
<body>
  <header class="header">
    <button id="menu-toggle" class="menu-toggle">☰</button>
    <h1>Panel de Administrador</h1>
  </header>

  <nav id="sidebar" class="sidebar">
    <div class="logo-principal">
      <img src="https://i.imgur.com/kkBz66t_d.jpeg?maxwidth=520&shape=thumb&fidelity=high" alt="Logo del Local">
      <h1>La Rota Carlota</h1>
    </div>
    <div class="section-title">Navegación</div>
    <ul class="menu">
      <li><a href="index.html">Panel de Administradorrr</a></li>
      <li><a href="Estado.html">Estado </a></li>
      <li><a href="Graficos.html">Graficos</a></li>
      <li><a href="publicaciones.html">Publicaciones</a></li>
      <li><a href="#" id="logout">Cerrar sesion</a></li>
    </ul>
  </nav>

  <main class="main-content">
    <section class="summary-cards">
      <div class="card">
        <h2>Reservas de Hoy</h2>
        <p class="amount" id="reservasHoy">-cant-</p>
      </div>
      <div class="card">
        <h2>Reservas del Mes</h2>
        <p class="amount" id="cantReservas">-cant-</p>
      </div>
      <div class="card">
        <h2>Total de Reservas del Mes</h2>
        <p class="amount" id="totalMes">-cant-</p>
      </div>
      <div class="card">
        <h2>Clicks</h2>
        <p class="amount" id="clicks">-cant-</p>
      </div>
      <div class="card">
        <h2>Valoración Promedio</h2>
        <p class="amount" id="calificacion">-cant-</p>
      </div>
    </section>

    <section class="report-section">
      <h2>Próximas Reservas</h2>
      <div class="table-responsive">
        <table class="report-table">
          <thead>
            <tr>
              <th>Nombre</th>
              <th>Fecha</th>
              <th>Hora</th>
              <th>Mesa</th>
              <th>Personas</th>
              <th>Estado</th>
            </tr>
          </thead>
          <tbody>
            <tr><td>Juan Pérez</td><td>2025-05-20</td><td>21:00</td><td>A5</td><td>4</td><td>Confirmada</td></tr>
            <tr><td>Ana Gómez</td><td>2025-05-20</td><td>22:30</td><td>B2</td><td>2</td><td>Pendiente</td></tr>
            <tr><td>Carlos Ruiz</td><td>2025-05-21</td><td>20:00</td><td>C1</td><td>6</td><td>Confirmada</td></tr>
            <tr><td>María López</td><td>2025-05-21</td><td>23:00</td><td>A1</td><td>3</td><td>Confirmada</td></tr>
          </tbody>
        </table>
      </div>
    </section>

    <section class="report-section">
      <h2>Historial de Reservas Recientes</h2>
      <div class="table-responsive">
        <table class="report-table">
          <thead>
            <tr>
              <th>ID Venta</th>
              <th>Fecha</th>
              <th>Hora</th>
              <th>Total</th>
              <th>Cliente</th>
            </tr>
          </thead>
          <tbody>
            <tr><td>#001</td><td>2025-05-18</td><td>22:15</td><td>$85</td><td>Pedro Fernández</td></tr>
            <tr><td>#002</td><td>2025-05-18</td><td>23:40</td><td>$120</td><td>Laura Vargas</td></tr>
            <tr><td>#003</td><td>2025-05-19</td><td>01:00</td><td>$55</td><td>Sofía Martínez</td></tr>
          </tbody>
        </table>
      </div>
    </section>
  </main>

  <script>
  document.addEventListener('DOMContentLoaded', () => {
    const menuBtn = document.getElementById('menu-toggle');
    const sidebar = document.getElementById('sidebar');

    menuBtn.addEventListener('click', (e) => {
      e.stopPropagation();
      sidebar.classList.toggle('active');
    });

    document.addEventListener('click', (event) => {
      const isClickInsideSidebar = sidebar.contains(event.target);
      const isClickOnMenuButton = menuBtn.contains(event.target);

      if (!isClickInsideSidebar && !isClickOnMenuButton && sidebar.classList.contains('active')) {
        sidebar.classList.remove('active');
      }
    });
  });
  </script>
</body>
</html>
